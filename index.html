<!DOCTYPE html>
<html>
	<head>
		<title>Jazz Lead sheets</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link type="text/css" rel="stylesheet" media="all" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
		<link type="text/css" rel="stylesheet" media="all" href="css/leadSheet.css" />
		<script type="text/javascript" src="node_modules/requirejs/require.js"></script>
		<script type="text/javascript" src="js/requireConfig.js"></script>
	</head>
	<body>
		<div class="container-fluid">
			<div id="main-wrapper" class="row">
				<div class="col-md-8">
					<div class="lead-sheet"></div>
				</div>
				<div class="col-md-4">
					<div>
						<label for="key">Key:</label><input type="text" value="C" id="key" />
					</div>
					<textarea id="rawFormat" rows="10" cols="30">1_69|7_m7b5 3_7|6_m 6_m/5|2_9/4# 4_m6|1/3 3b_dim|2_m7 5_7|3_m7 6_7b9|2_m7 5_7b9
1_69|7_m7b5 3_7|6_m 6_m/5|2_9/4# 4_m6|1/3 3b_dim|2_m7 5_7|1_69 4_m6|1_69 3_7
6_m|6_m6 4_9|6_m|6_m7 2|6_m 2_m|1_69 7_7|3_m 6_7|2_7 5_7
1_69|7_m7b5 3_7|6_m 6_m/5|2_9/4# 4_m6|1/3 3b_dim|2_m7 5_7|1_69 4_m6|1_69 5_7b9</textarea>
				</div>
			</div>
		</div>
		<script>
		define('$lsheet', ['jquery'], function($){
			return $('.lead-sheet');
		});
		require(['jquery', 'raw/parser', 'renderer'], function($, parser, Renderer){
			$('#rawFormat,#key').change(function(){
				var parsedLsheet = parser.parse($('#rawFormat').val());
				var renderer = new Renderer($('#key').val());
				console.debug(renderer);
				renderer.render(parsedLsheet);
			}).change();
		});
		</script>
	</body>
</html>